faces_3d :
    id, recordingid, shotid, sequenceid, url, date, format, subjectid, glasses, source1, emotion, source2, stageid, weather, collectionid,
	environmentid, sensorid, illuminantid, illuminantid1, illuminantid2, fileid, state, by_user, lastcheck, date_added, added_by, temp_collectionid,
	enrolled_date, yaw
faces_mov :
    id, recordingid, shotid, sequenceid, url, date, format, camera, subjectid, glasses, source1, emotion, source2, rank, talking, action, head,
	stageid, weather, collectionid, environmentid, sensorid, illuminantid, illuminantid1, fileid, state, by_user, lastcheck, date_added, added_by,
	temp_collectionid, enrolled_date
faces_still :
    id, recordingid, shotid, sequenceid, url, date, format, camera, subjectid, glasses, source1, emotion, source2, rank, lefteye, righteye, nose,
	mouth, yaw, pitch, stageid, weather, collectionid, environmentid, sensorid, illuminantid, illuminantid1, illuminantid2, state, fileid, by_user,
	lastcheck, date_added, added_by, comment, temp_collectionid, enrolled_date
irises_mov :
    id, recordingid, shotid, sequenceid, url, date, format, camera, subjectid, glasses, source1, eye, color, pose, motion, treatment, conditions,
	stageid, weather, collectionid, environmentid, sensorid, illuminantid, illuminantid1, fileid, state, by_user, lastcheck, date_added, added_by,
	temp_collectionid, enrolled_date, contacts, contacts_type, contacts_texture, contacts_toric, contacts_cosmetic


irises_still :
    id, recordingid, shotid, sequenceid, url, date, format, camera, subjectid, eye, color, pose, motion, treatment, coordinate00,
	coordinate01, coordinate02, coordinate03, coordinate04, coordinate05, coordinate06, coordinate07, coordinate08, coordinate09, coordinate10,
	coordinate11, coordinate12, coordinate13, coordinate14, coordinate15, coordinate16, glasses, collectionid, stageid, environmentid, sensorid,
	illuminantid, illuminantid1, weather, shot, state, fileid, by_user, lastcheck, date_added, added_by, comment, temp_collectionid, enrolled_date,
	contacts, contacts_type, contacts_texture, contacts_toric, contacts_cosmetic

	-credentials         change stored credentials for accessing bxgrid
                         credentials saved to ~/.bxgrid/credentials after successful login
    -headdir DIR         set name of top level directory for materialization
                         default DIR: TABLE + timestamp
    -schema  SCHEME      set schema for directory tree;
                         SCHEME in form attr1/attr2/... where attr's in TABLE's attributes
                         (ex: -schema subjectid/date)
    -limit   N           set maximum number of files to download
    -where   CONDITIONS  limit materialization to files fulfilling conditions;
                         condtions written in SQL WHERE clause syntax
                         (ex: -where "subjectid='nd1S04261' and date='2008-04-01'")
	-group
    -force               allow materialization into existing directory
                         as long as schemas match
    -nofiles             run materialization without downloading files
                         (only tree and metadata files created)
    -resume              execute last materialization from the beginning
                         metadata and files will not be overwritten
                         materialization will be run as if -force flag present
                         useful when materialization ends prematurely

select * from (
	select * from ((select id, date, camera, subjectid, eye, color, weather, fileid from irises_still) irises inner join files using (fileid) inner join subjects using (subjectid)) where subjectid < "nd1S04218"
) a where (
	select count(*) from (
		select * from ((select id, date, camera, subjectid, eye, color, weather, fileid from irises_still) irises inner join files using (fileid) inner join subjects using (subjectid)) where subjectid < "nd1S04218"
	) b where a.gender = b.gender and a.id >= b.id)
<= 2 order by gender;

select * from
	subjects
a where (
	select count(*) from
		subjects
	b where a.YOB = b.YOB and a.subjectid >= b.subjectid)
<= 2 order by YOB;
select * from subjects a where (select count(*) from subjects b where a.YOB = b.YOB and a.subjectid >= b.subjectid) <= 2 order by YOB;


#### no condition ####
select * from ((select id, date, camera, subjectid, eye, color, weather, fileid from irises_still) irises inner join files using (fileid) inner join subjects using (subjectid))

#### with condition (where subjectid < "nd1S04218") ####
select * from ((select id, date, camera, subjectid, eye, color, weather, fileid from irises_still) irises inner join files using (fileid) inner join subjects using (subjectid)) where subjectid < "nd1S04218";

#### one group (gender) ####
select * from (
	select * from ((select id, date, camera, subjectid, eye, color, weather, fileid from irises_still) irises inner join files using (fileid) inner join subjects using (subjectid)) where subjectid < "nd1S04218"
) a where (
	select count(*) from (
		select * from ((select id, date, camera, subjectid, eye, color, weather, fileid from irises_still) irises inner join files using (fileid) inner join subjects using (subjectid)) where subjectid < "nd1S04218"
	) b where a.gender = b.gender and a.id >= b.id)
<= 2 order by gender;
## one line ##
select * from (select * from ((select id, date, camera, subjectid, eye, color, weather, fileid from irises_still) irises inner join files using (fileid) inner join subjects using (subjectid)) where subjectid < "nd1S04218") a where (select count(*) from (select * from ((select id, date, camera, subjectid, eye, color, weather, fileid from irises_still) irises inner join files using (fileid) inner join subjects using (subjectid)) where subjectid < "nd1S04218") b where a.gender = b.gender and a.id >= b.id) <= 2 order by gender;

#### multiple groups (gender, eye) ####
select * from (
	select * from ((select id, date, camera, subjectid, eye, color, weather, fileid from irises_still) irises inner join files using (fileid) inner join subjects using (subjectid)) where subjectid < "nd1S04218"
) a where (
	select count(*) from (
		select * from ((select id, date, camera, subjectid, eye, color, weather, fileid from irises_still) irises inner join files using (fileid) inner join subjects using (subjectid)) where subjectid < "nd1S04218"
	) b where a.gender=b.gender and a.eye=b.eye and a.id >= b.id)
<= 2 order by gender, eye;
## one line ##
select * from (select * from ((select id, date, camera, subjectid, eye, color, weather, fileid from irises_still) irises inner join files using (fileid) inner join subjects using (subjectid)) where subjectid < "nd1S04218") a where (select count(*) from (select * from ((select id, date, camera, subjectid, eye, color, weather, fileid from irises_still) irises inner join files using (fileid) inner join subjects using (subjectid)) where subjectid < "nd1S04218") b where a.gender=b.gender and a.eye=b.eye and a.id >= b.id) <= 2 order by gender, eye;
select * from (select * from ((select id, date, camera, subjectid, eye, color, weather, fileid from irises_still) irises inner join files using (fileid) inner join subjects using (subjectid))) a where (select count(*) from (select * from ((select id, date, camera, subjectid, eye, color, weather, fileid from irises_still) irises inner join files using (fileid) inner join subjects using (subjectid))) b where a.gender=b.gender and a.eye=b.eye and a.id >= b.id) <= 2 order by gender, eye;

